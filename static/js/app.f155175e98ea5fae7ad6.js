webpackJsonp([1],{"/yRs":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("8ebl")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-street-view-pano-container"},[e("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(t){a("tvr4")},null,null);e.default=r.exports},"5ZbH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("hOwk")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-map-container"},[e("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),e("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(t){a("6X0i")},null,null);e.default=r.exports},"5cLx":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("WgA/")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]},r=a("VU/8")(i,n,!1,null,null,null);e.default=r.exports},"6X0i":function(t,e){},K5ty:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("7t+N"),n=a.n(i),r=a("mvHQ"),l=a.n(r),o=a("c/Tr"),c=a.n(o),u=a("lHA8"),d=a.n(u),f={name:"googleMap",props:["selected"],data:function(){return{center:{},position:{}}},created:function(){this.geolocate()},mounted:function(){},watch:{selected:function(){var t=this;t.selected.showInfo[0].latitude&&(t.position={lat:Number(t.selected.showInfo[0].latitude),lng:Number(t.selected.showInfo[0].longitude)},t.center={lat:Number(t.selected.showInfo[0].latitude),lng:Number(t.selected.showInfo[0].longitude)})}},methods:{geolocate:function(){var t=this;navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude},t.position={lat:e.coords.latitude,lng:e.coords.longitude}})}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"400px"},attrs:{center:this.center,zoom:15}},[e("gmap-marker",{attrs:{position:this.position,clickable:!0}})],1)},staticRenderFns:[]};var p={components:{googleMap:a("VU/8")(f,h,!1,function(t){a("osZ4")},null,null).exports},data:function(){return{rawData:[],dealingData:[],selectItem:[],totalPage:0,currentPage:1,locations:[],selectLocation:"",like:[],isLiked:!1,isAllData:!0}},methods:{getRawData:function(){var t=this;this.$http.get("https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=5").then(function(e){t.rawData=e.data,t.cleanData(),t.getCityList()})},cleanData:function(){this.rawData.forEach(function(t,e){0!=t.showInfo&&(t.showInfo[0].location.match("捷運行天宮")?t.showInfo[0].location="台北市":t.showInfo[0].location=t.showInfo[0].location.replace("[","").replace("401","").replace("臺","台"),""==t.showInfo[0].price&&(t.showInfo[0].price="Free"))}),this.dealingData=this.rawData},getCityList:function(){var t=new d.a;this.rawData.forEach(function(e,a){0!=e.showInfo&&t.add(e.showInfo[0].location.slice(0,3))}),this.locations=c()(t)},showInfo:function(t){var e=this;e.isLiked=!1,e.selectItem=t,-1!=n.a.map(e.like,function(t,e){return t.UID}).indexOf(e.selectItem.UID)&&(e.isLiked=!0),n()("#exampleModal").modal("show")},addToLike:function(t){this.like.push(t),this.isLiked=!0,localStorage.setItem("Like",l()(this.like))},removeLike:function(t){var e=this.like.indexOf(t);e>-1&&(this.like.splice(e,1),localStorage.clear,localStorage.setItem("Like",l()(this.like)),this.isLiked=!1)},getLike:function(){this.dealingData=this.like,this.isAllData=!1,this.currentPage=1},prev:function(){this.currentPage>1&&(cons,this.currentPage=this.currentPage-1)},next:function(){this.currentPage<this.totalPage&&(this.currentPage=this.currentPage+1)}},computed:{filterData:function(){var t=this,e=[],a=[];return(e=""!==t.selectLocation?t.dealingData.filter(function(e,a){return e.showInfo[0].location.match(t.selectLocation)}):t.dealingData).length/9<1?t.totalPage=1:t.totalPage=Math.ceil(e.length/9),e.forEach(function(t,e){e%9==0&&a.push([]);var s=parseInt(e/9);a[s].push(t)}),a},returnInfo:function(){if(this.selectItem.showInfo)return this.selectItem},returnImageUrl:function(){if(this.selectItem.imageUrl)return this.selectItem.imageUrl},pagers:function(){var t=[],e=this.currentPage,a={start:e-2,end:e+2};a.start<1&&(a.end=a.end+(1-a.start),a.start=1),a.end>this.totalPage&&(a.start=a.start-(a.end-this.totalPage),a.end=this.totalPage),a.start<1&&(a.start=1);for(var s=a.start;s<=a.end;s++)t.push(s);return t}},created:function(){this.getRawData();JSON.parse(localStorage.getItem("Like"))&&0!=JSON.parse(localStorage.getItem("Like")).length&&(this.like=JSON.parse(localStorage.getItem("Like")))}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("ul",{staticClass:"nav nav-pills nva-fill justify-content-center mb-5"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.isAllData},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.dealingData=t.rawData,t.isAllData=!0}}},[t._v("所有資訊")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:!t.isAllData},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getLike(e)}}},[t._v("我的最愛")])])]),a("div",{staticClass:"row justify-content-center mb-5"},[t.rawData.length>0?a("div",{staticClass:"col-sm-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectLocation,expression:"selectLocation"}],staticClass:"form-control input-lg",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectLocation=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("-請選擇地區-")]),t._l(t.locations,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]):a("div",{staticClass:"col-sm-6"},[a("p",{staticClass:"h3 text-center"},[t._v("目前沒有資料")])])]),a("div",{staticClass:"row"},t._l(t.filterData[t.currentPage-1],function(e,s){return a("div",{staticClass:"col-md-4"},[a("a",{staticClass:"card mb-4 box-shadow",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.showInfo(e)}}},[e.imageUrl?a("img",{staticClass:"card-img-top",staticStyle:{height:"300px"},attrs:{src:e.imageUrl,alt:"Card image cap"}}):a("img",{staticClass:"card-img-top",staticStyle:{height:"300px"},attrs:{src:"https://images.unsplash.com/photo-1494232410401-ad00d5433cfa?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=beb0f979ed2a7da134fb95a2ae6290c3&auto=format&fit=crop&w=1050&q=80",alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v(t._s(e.title))]),a("div",{staticClass:"d-flex justify-content-between align-items-center"})])])])})),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.selectItem.title))]),t._m(0)]),a("div",{staticClass:"modal-body"},[t.returnImageUrl?a("div",{staticClass:"mb-3",staticStyle:{height:"300px"},style:{backgroundImage:"url("+t.returnImageUrl+")"}}):a("div",{staticClass:"mb-3 bg-cover",staticStyle:{height:"300px"},style:{backgroundImage:"url(https://images.unsplash.com/photo-1494232410401-ad00d5433cfa?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=beb0f979ed2a7da134fb95a2ae6290c3&auto=format&fit=crop&w=1050&q=80)"}}),t.returnInfo?a("P",[t._v("時間: "+t._s(t.returnInfo.showInfo[0].time)),t.isLiked?a("button",{staticClass:"btn btn-warning float-right",attrs:{type:"button"},on:{click:function(e){t.removeLike(t.selectItem)}}},[t._v("移除最愛")]):a("button",{staticClass:"btn btn-outline-primary float-right",attrs:{type:"button"},on:{click:function(e){t.addToLike(t.selectItem)}}},[t._v("加入最愛")])]):t._e(),t.returnInfo?a("P",[t._v("地點: "+t._s(t.returnInfo.showInfo[0].locationName))]):t._e(),t.returnInfo?a("P",[t._v("地址: "+t._s(t.returnInfo.showInfo[0].location))]):t._e(),t.returnInfo?a("p",[t._v("票價: "+t._s(t.returnInfo.showInfo[0].price))]):t._e(),a("googleMap",{attrs:{selected:t.selectItem}})],1)])])]),a("nav",{staticClass:"my-5",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{directives:[{name:"show",rawName:"v-show",value:1!=t.currentPage,expression:"currentPage!=1"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"First"},on:{click:function(e){t.currentPage=1}}},[a("span",[t._v("First  ")])])]),a("li",{staticClass:"page-item",class:{disabled:1===t.currentPage}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:t.prev}},[a("span",[t._v("«")]),a("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pagers,function(e){return a("li",{staticClass:"page-item",class:{active:t.currentPage===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.currentPage=e}}},[t._v(t._s(e))])])}),a("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.totalPage}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:t.next}},[a("span",[t._v("»")]),a("span",{staticClass:"sr-only"},[t._v("Next ")])])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.currentPage!=t.totalPage,expression:"currentPage!=totalPage"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Last"},on:{click:function(e){t.currentPage=t.totalPage}}},[a("span",[t._v("Last  ")])])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},m={name:"App",components:{card:a("VU/8")(p,v,!1,null,null,null).exports},data:function(){return{}},methods:{scrollDown:function(){console.log();var t=n()("#content").offset().top;n()("html, body").animate({scrollTop:t-45},800)}}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"bg-cover mb-5",attrs:{id:"header"}},[e("h1",[this._v("獨立音樂")]),e("span"),e("a",{ref:"scrollDown",attrs:{id:"scroll-down",href:"#content"},on:{click:this.scrollDown}})]),e("div",{staticClass:"mb-3",attrs:{id:"content"}},[e("card")],1),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-3 text-center",attrs:{id:"footer"}},[e("p",[this._v("Copyright © 2018 何宗益 All rights reserved")])])}]};var _=a("VU/8")(m,g,!1,function(t){a("K5ty")},null,null).exports,b=(a("K3J8"),a("mtWM")),w=a.n(b),C=a("Rf8U"),I=a.n(C),k=a("sA6N");s.a.config.productionTip=!1,s.a.use(I.a,w.a),s.a.use(k,{load:{key:"AIzaSyCgx0VI6SXUs8cmy1vNNONCpOvLIh_Zi1Y",libraries:"places"}}),new s.a({el:"#app",components:{App:_},template:"<App/>"})},O1XB:function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),e("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};e.a=s},YI6p:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("jIen"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);var r=a("O1XB"),l=a("VU/8")(i.a,r.a,!1,null,null,null);e.default=l.exports},osZ4:function(t,e){},preG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=a("hQTS")).default||s,n={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:this.placeholder},domProps:{value:this.value}})},staticRenderFns:[]},r=a("VU/8")(i,n,!1,null,null,null);e.default=r.exports},tvr4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f155175e98ea5fae7ad6.js.map